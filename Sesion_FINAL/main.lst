ASxxxx Assembler V05.00  (Motorola 6809), page 1.
Hexidecimal [16-Bits]



                              1 .module main
                              2 
                              3 .globl imprime_cadena
                              4 .globl leeByte
                              5 .globl carga_mat
                              6 .globl leeDecimal
                              7 .globl imprime_decimal
                              8 .globl imp_mat
                              9 .globl mostrar_columna_maxima
                             10 .globl mostrar_diagonal_menor
                             11 .globl diagonal_dominante
                             12 
                             13 
                             14 
                             15 
                             16 ; Constantes
                     FF01    17 fin         .equ    0xFF01
                     FF00    18 pantalla    .equ    0xFF00
                     FF02    19 teclado     .equ    0xFF02
                     F000    20 pila        .equ    0xF000
                     E000    21 m           .equ    0xE000
                             22 
                             23 ; Variables
                             24 .globl     columnas
   0000 00                   25 columnas:   .byte   0
                             26 .globl     filas
   0001 00                   27 filas:      .byte   0
                             28 
   0002 00 00                29 elementos:  .word   0
                             30 
                             31 ; Mensajes
   0004                      32 dimensiones:
   0004 49 6E 67 72 65 73    33     .asciz "Ingrese dimensiones (filas x columnas):\n"
        65 20 64 69 6D 65
        6E 73 69 6F 6E 65
        73 20 28 66 69 6C
        61 73 20 78 20 63
        6F 6C 75 6D 6E 61
        73 29 3A 0A 00
   002D                      34 mensajeFilas:
   002D 49 6E 67 72 65 73    35     .asciz "Ingrese el numero de filas y Columnas: "
        65 20 65 6C 20 6E
        75 6D 65 72 6F 20
        64 65 20 66 69 6C
        61 73 20 79 20 43
        6F 6C 75 6D 6E 61
        73 3A 20 00
   0055                      36 mensajeColumnas:
   0055 0A 49 6E 67 72 65    37     .asciz "\nIngrese el numero de columnas:"
        73 65 20 65 6C 20
        6E 75 6D 65 72 6F
        20 64 65 20 63 6F
        6C 75 6D 6E 61 73
        3A 00
   0075                      38 msgCargaElementos:
ASxxxx Assembler V05.00  (Motorola 6809), page 2.
Hexidecimal [16-Bits]



   0075 0A 49 6E 67 72 65    39     .asciz "\nIngrese los elementos de la matriz:"
        73 65 20 6C 6F 73
        20 65 6C 65 6D 65
        6E 74 6F 73 20 64
        65 20 6C 61 20 6D
        61 74 72 69 7A 3A
        00
   009A                      40 msgMatrizCargada:
   009A 0A 4C 61 20 6D 61    41     .asciz "\nLa matriz ha sido cargada con exito\n"
        74 72 69 7A 20 68
        61 20 73 69 64 6F
        20 63 61 72 67 61
        64 61 20 63 6F 6E
        20 65 78 69 74 6F
        0A 00
                             42 
   00C0                      43 msgColumnaMax:
   00C0 0A 4C 61 20 63 6F    44     .asciz "\nLa columna con elemento Maximo: \n" 
        6C 75 6D 6E 61 20
        63 6F 6E 20 65 6C
        65 6D 65 6E 74 6F
        20 4D 61 78 69 6D
        6F 3A 20 0A 00
   00E3                      45 msgDiagonalMenor:    
   00E3 0A 45 6C 65 6D 65    46     .asciz "\nElementos de la diagonal de menor suma:\n"  
        6E 74 6F 73 20 64
        65 20 6C 61 20 64
        69 61 67 6F 6E 61
        6C 20 64 65 20 6D
        65 6E 6F 72 20 73
        75 6D 61 3A 0A 00
   010D                      47 msgDiagonalDominante:    
   010D 0A 43 6F 6D 70 72    48     .asciz "\nComprobando diagonal dominante... Presiona Enter"   
        6F 62 61 6E 64 6F
        20 64 69 61 67 6F
        6E 61 6C 20 64 6F
        6D 69 6E 61 6E 74
        65 2E 2E 2E 20 50
        72 65 73 69 6F 6E
        61 20 45 6E 74 65
        72 00
                             49     ; En la sección de mensajes:
   013F                      50 mensaje_pausa:
   013F 0A 50 72 65 73 69    51     .asciz "\nPresiona Enter para salir..."       
        6F 6E 61 20 45 6E
        74 65 72 20 70 61
        72 61 20 73 61 6C
        69 72 2E 2E 2E 00
                             52 
   015D                      53 programa:
   015D 10 CE F0 00   [ 4]   54     lds     #pila           ; Cargar la pila en dirección segura
                             55 
                             56     ; Leer número de filas
   0161 8E 00 2D      [ 3]   57     ldx     #mensajeFilas
   0164 BD 00 00      [ 8]   58     jsr     imprime_cadena
ASxxxx Assembler V05.00  (Motorola 6809), page 3.
Hexidecimal [16-Bits]



   0167 BD 00 00      [ 8]   59     jsr     leeByte
   016A F7 00 01      [ 5]   60     stb     filas
   016D F7 00 00      [ 5]   61     stb     columnas
                             62 
                             63     ; Calcular cantidad de elementos (filas * columnas)
   0170 B6 00 01      [ 5]   64     lda     filas
   0173 F6 00 00      [ 5]   65     ldb     columnas
   0176 3D            [11]   66     mul
   0177 FD 00 02      [ 6]   67     std     elementos
                             68 
                             69     ; Cargar la matriz
   017A 8E 00 75      [ 3]   70     ldx     #msgCargaElementos
   017D BD 00 00      [ 8]   71     jsr     imprime_cadena
   0180 BD 00 00      [ 8]   72     jsr     carga_mat
                             73 
                             74     ; Confirmar carga de la matriz
   0183 8E 00 9A      [ 3]   75     ldx     #msgMatrizCargada
   0186 BD 00 00      [ 8]   76     jsr     imprime_cadena
                             77 
                             78     ; Imprimir la matriz (suponiendo que imp_mat usa filas y columnas)
   0189 B6 00 01      [ 5]   79     lda     filas
   018C F6 00 00      [ 5]   80     ldb     columnas
   018F BD 00 00      [ 8]   81     jsr     imp_mat
   0192 8E 00 C0      [ 3]   82     ldx     #msgColumnaMax
   0195 BD 00 00      [ 8]   83     jsr     imprime_cadena
   0198 BD 00 00      [ 8]   84     jsr     mostrar_columna_maxima
   019B 8E 00 E3      [ 3]   85     ldx     #msgDiagonalMenor
   019E BD 00 00      [ 8]   86     jsr     imprime_cadena
   01A1 BD 00 00      [ 8]   87     jsr     mostrar_diagonal_menor
   01A4 8E 01 0D      [ 3]   88     ldx     #msgDiagonalDominante
   01A7 BD 00 00      [ 8]   89     jsr     imprime_cadena
   01AA BD 00 00      [ 8]   90     jsr     diagonal_dominante
   01AD 8E 01 3F      [ 3]   91     ldx     #mensaje_pausa
   01B0 BD 00 00      [ 8]   92     jsr     imprime_cadena
   01B3 BD 00 00      [ 8]   93     jsr     leeByte          ; Espera a que el usuario presione una tecla
   01B6 86 0A         [ 2]   94     lda     #'\n
   01B8 B7 FF 00      [ 5]   95     sta     pantalla
   01BB 4F            [ 2]   96     clra
   01BC B7 FF 01      [ 5]   97     sta     fin
                             98 
                             99 .area FIJA (ABS)
   FFFE                     100 .org 0xFFFE
   FFFE 01 5D               101 .word programa
ASxxxx Assembler V05.00  (Motorola 6809), page 4.
Hexidecimal [16-Bits]

Symbol Table

    .__.$$$.       =   2710 L   |     .__.ABS.       =   0000 G
    .__.CPU.       =   0000 L   |     .__.H$L.       =   0001 L
    carga_mat          **** GX  |   0 columnas           0000 GR
    diagonal_domin     **** GX  |   0 dimensiones        0004 R
  0 elementos          0002 R   |   0 filas              0001 GR
    fin            =   FF01     |     imp_mat            **** GX
    imprime_cadena     **** GX  |     imprime_decima     **** GX
    leeByte            **** GX  |     leeDecimal         **** GX
    m              =   E000     |   0 mensajeColumna     0055 R
  0 mensajeFilas       002D R   |   0 mensaje_pausa      013F R
    mostrar_column     **** GX  |     mostrar_diagon     **** GX
  0 msgCargaElemen     0075 R   |   0 msgColumnaMax      00C0 R
  0 msgDiagonalDom     010D R   |   0 msgDiagonalMen     00E3 R
  0 msgMatrizCarga     009A R   |     pantalla       =   FF00 
    pila           =   F000     |   0 programa           015D R
    teclado        =   FF02 

ASxxxx Assembler V05.00  (Motorola 6809), page 5.
Hexidecimal [16-Bits]

Area Table

[_CSEG]
   0 _CODE            size  1BF   flags C180
   2 FIJA             size    0   flags  908
[_DSEG]
   1 _DATA            size    0   flags C0C0

