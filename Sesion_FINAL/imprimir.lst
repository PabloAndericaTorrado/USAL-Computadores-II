ASxxxx Assembler V05.00  (Motorola 6809), page 1.
Hexidecimal [16-Bits]



                              1 .module imprimir
                              2 
                     FF01     3 finProg     .equ 0xFF01
                     FF00     4 pantalla    .equ 0xFF00
                     FF02     5 teclado     .equ 0xFF02
                              6 
                              7 .globl imprime_cadena
                              8 .globl imprime_byte
                              9 .globl imprime_decimal
                             10 
   0000 00 00                11 tempSalida:       .word 0      
   0002 00                   12 centenas:         .byte 0      
   0003 00                   13 decenas:          .byte 0      
                             14 
   0004                      15 imprime_cadena:
   0004 34 12         [ 7]   16     pshs    A,X
   0006                      17 sgte:
   0006 A6 80         [ 6]   18     lda     ,X+
   0008 27 05         [ 3]   19     beq     ret_imprime_cadena
   000A B7 FF 00      [ 5]   20     sta     pantalla
   000D 20 F7         [ 3]   21     bra     sgte
   000F                      22 ret_imprime_cadena:
   000F 35 92         [ 8]   23     puls    A,X,PC
                             24 
   0011                      25 imprime_byte:
   0011 34 06         [ 7]   26     pshs    A,B
   0013 CE 00 00      [ 3]   27     ldu     #0
   0016 1F 98         [ 6]   28     tfr     B,A
   0018 C6 00         [ 2]   29     ldb     #0
   001A                      30 cent_bucle:
   001A 81 64         [ 2]   31     cmpa    #100
   001C 25 05         [ 3]   32     blo     fin_cent
   001E 80 64         [ 2]   33     suba    #100
   0020 5C            [ 2]   34     incb
   0021 20 F7         [ 3]   35     bra     cent_bucle
   0023                      36 fin_cent:
   0023 5D            [ 2]   37     tstb
   0024 27 05         [ 3]   38     beq     pasar_cent
   0026 CB 30         [ 2]   39     addb    #'0
   0028 F7 FF 00      [ 5]   40     stb     pantalla
   002B                      41 pasar_cent:
   002B C6 00         [ 2]   42     ldb     #0
   002D                      43 dec_bucle:
   002D 81 0A         [ 2]   44     cmpa    #10
   002F 25 05         [ 3]   45     blo     fin_dec
   0031 80 0A         [ 2]   46     suba    #10
   0033 5C            [ 2]   47     incb
   0034 20 F7         [ 3]   48     bra     dec_bucle
   0036                      49 fin_dec:
   0036 5D            [ 2]   50     tstb
   0037 27 05         [ 3]   51     beq     pasar_dec
   0039 CB 30         [ 2]   52     addb    #'0
   003B F7 FF 00      [ 5]   53     stb     pantalla
   003E                      54 pasar_dec:
   003E 8B 30         [ 2]   55     adda    #'0
ASxxxx Assembler V05.00  (Motorola 6809), page 2.
Hexidecimal [16-Bits]



   0040 B7 FF 00      [ 5]   56     sta     pantalla
   0043 35 86         [ 8]   57     puls    A,B,PC
                             58 
   0045                      59 imprime_decimal:
   0045 34 16         [ 8]   60     pshs    A,B,X
   0047 FD 00 00      [ 6]   61     std     tempSalida
   004A 7F 00 02      [ 7]   62     clr     centenas
   004D 10 83 03 20   [ 5]   63     cmpd    #800
   0051 25 06         [ 3]   64     blo     Menor800
   0053 7C 00 02      [ 7]   65     inc     centenas
   0056 83 03 20      [ 4]   66     subd    #800
   0059                      67 Menor800:
   0059 78 00 02      [ 7]   68     lsl     centenas
   005C 10 83 01 90   [ 5]   69     cmpd    #400
   0060 25 06         [ 3]   70     blo     Menor400
   0062 7C 00 02      [ 7]   71     inc     centenas
   0065 83 01 90      [ 4]   72     subd    #400
   0068                      73 Menor400:
   0068 78 00 02      [ 7]   74     lsl     centenas
   006B 10 83 00 C8   [ 5]   75     cmpd    #200
   006F 25 06         [ 3]   76     blo     Menor200
   0071 7C 00 02      [ 7]   77     inc     centenas
   0074 83 00 C8      [ 4]   78     subd    #200
   0077                      79 Menor200:
   0077 78 00 02      [ 7]   80     lsl     centenas
   007A 10 83 00 64   [ 5]   81     cmpd    #100
   007E 25 06         [ 3]   82     blo     Menor100
   0080 7C 00 02      [ 7]   83     inc     centenas
   0083 83 00 64      [ 4]   84     subd    #100
   0086                      85 Menor100:
   0086 1F 98         [ 6]   86     tfr     b,a
   0088 F6 00 02      [ 5]   87     ldb     centenas
   008B CB 30         [ 2]   88     addb    #'0
   008D F7 FF 00      [ 5]   89     stb     pantalla
                             90 
                             91     ; Extracción de decenas
   0090 5F            [ 2]   92     clrb
   0091 81 50         [ 2]   93     cmpa    #80
   0093 25 03         [ 3]   94     blo     Menor80
   0095 5C            [ 2]   95     incb
   0096 80 50         [ 2]   96     suba    #80
   0098                      97 Menor80:
   0098 58            [ 2]   98     lslb
   0099 81 28         [ 2]   99     cmpa    #40
   009B 25 03         [ 3]  100     blo     Menor40
   009D 5C            [ 2]  101     incb
   009E 80 28         [ 2]  102     suba    #40
   00A0                     103 Menor40:
   00A0 58            [ 2]  104     lslb
   00A1 81 14         [ 2]  105     cmpa    #20
   00A3 25 03         [ 3]  106     blo     Menor20_dec
   00A5 5C            [ 2]  107     incb
   00A6 80 14         [ 2]  108     suba    #20
   00A8                     109 Menor20_dec:
   00A8 58            [ 2]  110     lslb
ASxxxx Assembler V05.00  (Motorola 6809), page 3.
Hexidecimal [16-Bits]



   00A9 81 0A         [ 2]  111     cmpa    #10
   00AB 25 03         [ 3]  112     blo     Menor10_dec
   00AD 5C            [ 2]  113     incb
   00AE 80 0A         [ 2]  114     suba    #10
   00B0                     115 Menor10_dec:
   00B0 CB 30         [ 2]  116     addb    #'0
   00B2 F7 FF 00      [ 5]  117     stb     pantalla
                            118 
                            119     ; Extracción de unidades
   00B5 8B 30         [ 2]  120     adda    #'0
   00B7 B7 FF 00      [ 5]  121     sta     pantalla
   00BA 35 96         [ 9]  122     puls    A,B,X,PC
ASxxxx Assembler V05.00  (Motorola 6809), page 4.
Hexidecimal [16-Bits]

Symbol Table

    .__.$$$.       =   2710 L   |     .__.ABS.       =   0000 G
    .__.CPU.       =   0000 L   |     .__.H$L.       =   0001 L
  0 Menor100           0086 R   |   0 Menor10_dec        00B0 R
  0 Menor200           0077 R   |   0 Menor20_dec        00A8 R
  0 Menor40            00A0 R   |   0 Menor400           0068 R
  0 Menor80            0098 R   |   0 Menor800           0059 R
  0 cent_bucle         001A R   |   0 centenas           0002 R
  0 dec_bucle          002D R   |   0 decenas            0003 R
    finProg        =   FF01     |   0 fin_cent           0023 R
  0 fin_dec            0036 R   |   0 imprime_byte       0011 GR
  0 imprime_cadena     0004 GR  |   0 imprime_decima     0045 GR
    pantalla       =   FF00     |   0 pasar_cent         002B R
  0 pasar_dec          003E R   |   0 ret_imprime_ca     000F R
  0 sgte               0006 R   |     teclado        =   FF02 
  0 tempSalida         0000 R

ASxxxx Assembler V05.00  (Motorola 6809), page 5.
Hexidecimal [16-Bits]

Area Table

[_CSEG]
   0 _CODE            size   BC   flags C180
[_DSEG]
   1 _DATA            size    0   flags C0C0

